<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #live-background {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="https://cdn.apple-livephotoskit.com/lpk/1/livephotoskit.js"></script>
</head>
<body>
    <div
        id="live-background">
    </div>
<!--    <div-->
<!--            id="live-background"-->
<!--            data-live-photo-->
<!--            data-photo-src="./img/IMG_1252.JPG"-->
<!--            data-video-src="./img/IMG_1252.mov"-->
<!--            data-shows-native-controls="false"-->
<!--            data-proactively-loads-video="true"-->
<!--            style="width: 100%; height: 768px">-->
<!--    </div>-->

    <script>
        'use strict';

        const body = document.body,
            html = document.documentElement;

        const height = Math.max( body.scrollHeight, body.offsetHeight,
            html.clientHeight, html.scrollHeight, html.offsetHeight );

        body.style.height = height+"px";

        document.addEventListener('DOMContentLoaded', (event) => {
            // Create the player using a pre-existing DOM element.
            let element = document.getElementById('live-background');


            const player = LivePhotosKit.Player(element);
            player.photoSrc = "./img/IMG_1252.JPG";
            player.videoSrc = "./img/IMG_1252.mov";


            console.log(element.getBoundingClientRect().width + ' ' +element.getBoundingClientRect().height);

            // player.updateSize(500, 500);

            // Listen to events the player emits.
            player.addEventListener('canplay', evt => console.log('player ready', evt));
            player.addEventListener('error', evt => console.log('player load error', evt));
            player.addEventListener('ended', evt => console.log('player finished playing through', evt));
            player.addEventListener('videoload', evt => console.log('video finished load', evt));
            player.addEventListener('photoload', evt => console.log('photo finished load', evt));
            // Use the playback controls.
            player.playbackStyle = LivePhotosKit.PlaybackStyle.HINT;
            player.playbackStyle = LivePhotosKit.PlaybackStyle.FULL;
            player.play();
            player.pause();
            player.toggle();
            player.stop();
            // Seek the animation to one quarter through.
            player.currentTime = 0.25 * player.duration;
            // Seek the animation to 0.1 seconds into the Live Photo.
            player.currentTime = 0.1;


            //the event occurred
        })
        // player.updateSize(500, 500);

    </script>
</body>
</html>